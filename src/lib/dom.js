function e(e,n){const r=e.split(" "),a=t(r[0],(()=>n.clientWidth)),s=t(r[1],(()=>n.clientHeight));return new DOMPoint(a,s)}function t(e,t){return e.endsWith("%")?parseFloat(e)/100*t():parseFloat(e)}function n(e){return e?.offsetParent??e?.host}function r(e){const t=[];let r=e;for(;r;){const e=n(r);if(e&&e instanceof HTMLHtmlElement)break;(r=e)&&t.push(r)}return t}const a=new WeakMap,s=new WeakMap,o=(e,t)=>{if("computedStyleMap"in e){const n=e?.computedStyleMap();return n.get(t)?.value||0}{const n=getComputedStyle(e,"");return parseFloat(n.getPropertyValue(t)?.replace?.("px",""))||0}},i=(e,t)=>{if(!s.has(e)){const n=[],r=new ResizeObserver((e=>{for(const t of e)if(t.contentBoxSize){const e=t.contentBoxSize[0];e&&n.forEach((t=>t?.(e,r)))}}));t?.({inlineSize:e.clientWidth-(o(e,"padding-left")+o(e,"padding-right")),blockSize:e.clientHeight-(o(e,"padding-top")+o(e,"padding-bottom"))},r),s.set(e,n),r.observe(e,{box:"content-box"})}s.get(e)?.push(t)},u=(e,t)=>{if(!a.has(e)){const n=[],r=new ResizeObserver((e=>{for(const t of e)if(t.borderBoxSize){const e=t.borderBoxSize[0];e&&n.forEach((t=>t?.(e,r)))}}));t?.({inlineSize:e.offsetWidth,blockSize:e.offsetHeight},r),a.set(e,n),r.observe(e,{box:"border-box"})}a.get(e)?.push(t)},c=(e,t,n)=>{const r=new Set((t.split(",")||[t]).map((e=>e.trim()))),a=new MutationObserver(((e,t)=>{for(const a of e)a.attributeName&&r.has(a.attributeName)&&n(a,t)}));return a.observe(e,{attributeOldValue:1,attributes:1,attributeFilter:[...r]}),r.forEach((t=>{n({target:e,type:"attributes",attributeName:t,oldValue:e?.getAttribute?.(t)},a)})),a},l=(e,t,n,r)=>{const a=new Set((n.split(",")||[n]).map((e=>e.trim()))),s=new MutationObserver(((e,n)=>{for(const s of e)if("childList"==s.type){const e=Array.from(s.addedNodes)||[],o=Array.from(s.removedNodes)||[];e.push(...Array.from(s.addedNodes||[]).flatMap((e=>Array.from(e?.querySelectorAll?.(t)||[])))),o.push(...Array.from(s.removedNodes||[]).flatMap((e=>Array.from(e?.querySelectorAll?.(t)||[])))),[...Array.from(new Set(e).values())].filter((e=>e?.matches?.(t))).forEach((e=>{a.forEach((t=>{r({target:e,type:"attributes",attributeName:t,oldValue:e?.getAttribute?.(t)},n)}))}))}else s.target?.matches?.(t)&&s.attributeName&&a.has(s.attributeName)&&r(s,n)}));return s.observe(e,{attributeOldValue:1,attributes:1,attributeFilter:[...a],childList:1,subtree:1,characterData:1}),Array.from(e.querySelectorAll(t)).forEach((e=>{a.forEach((t=>{r({target:e,type:"attributes",attributeName:t,oldValue:e?.getAttribute?.(t)},s)}))})),s},d=(e,t="*",n=(e,t)=>{})=>{const r=new MutationObserver(((e,r)=>{for(const a of e)if("childList"==a.type){const e=Array.from(a.addedNodes)||[],s=Array.from(a.removedNodes)||[];e.push(...Array.from(a.addedNodes||[]).flatMap((e=>Array.from(e?.querySelectorAll?.(t)||[])))),s.push(...Array.from(a.removedNodes||[]).flatMap((e=>Array.from(e?.querySelectorAll?.(t)||[]))));const o=[...Array.from(new Set(e).values())].filter((e=>e?.matches?.(t))),i=[...Array.from(new Set(s).values())].filter((e=>e?.matches?.(t)));(o.length>0||i.length>0)&&n?.({type:a.type,target:a.target,attributeName:a.attributeName,attributeNamespace:a.attributeNamespace,nextSibling:a.nextSibling,oldValue:a.oldValue,previousSibling:a.previousSibling,addedNodes:o,removedNodes:i},r)}}));r.observe(e,{childList:1,subtree:1});const a=Array.from(e.querySelectorAll(t));return a.length>0&&n?.({addedNodes:a},r),r},b=(e,...t)=>URL.createObjectURL(new Blob(t,{type:e})),y=(e,t="text/html")=>{const n=(new DOMParser).parseFromString(e,t);return n.querySelector("template")??n.querySelector("*")},p=(e,t)=>!!e?.matches?.(t)||!!e?.closest?.(t),f=(e,t)=>(e?.matches?.(t)?e:null)||e?.closest?.(t);class h{#e=document.documentElement;#t="*";constructor(e="*",t=document.documentElement){this.#e=t,this.#t=e}observeAttribute(e,t){return l(this.#e,this.#t,e,t)}observeNodes(e){return d(this.#e,this.#t,e)}get query(){return this.#e.querySelector(this.#t)}get queryAll(){return Array.from(this.#e.querySelectorAll(this.#t))}delegated(e,t,n){this.#e.addEventListener(e,(e=>{e.target.matches(this.#t)&&t(e)}),n)}directly(e,t,n){this.#e.addEventListener(e,(e=>{e.stopPropagation();const n=document.elementFromPoint(e.clientX,e.clientY),r=f(n,this.#t);if(r&&Array.from(document.elementsFromPoint(e.clientX,e.clientY)).indexOf(r)>=0)return t(e)}),n)}}const m=(e="*",t=document.documentElement)=>new h(e,t),S=(e,t)=>e.querySelector(t)??(e.matches(t)?e:null),g=(e,t)=>{const n='input:where([type="text"], [type="number"], [type="range"])',r=S(t,n),a=r?.name||t?.dataset?.name||"";if(null!=e?.[a]){if(e&&r?.matches?.(n)&&r.value!=e[a]&&(r.value=e[a],r.dispatchEvent(new Event("change",{bubbles:1,cancelable:1}))),e){const n=S(t,`input:where([type="radio"][name="${a}"][value="${e?.[a]}"])`);e&&n&&!n?.checked&&n?.click?.()}const s=S(t,'input:where([type="checkbox"])');e&&s&&e[a]!=s.checked&&(s.checked=!!e[a],s.dispatchEvent(new Event("change",{bubbles:1,cancelable:1})))}},w=(e,t=".u2-input",n=document.documentElement,r)=>{const a=n=>{const r=n?.target?.matches("input")?n?.target:n?.target?.querySelector?.("input"),a=n?.target?.matches(t)?n?.target:r?.closest?.(t),s=r?.name||a?.dataset?.name;if(null!=e?.[s]){if(r?.matches?.('input:where([type="text"], [type="number"], [type="range"])')){const t=null==r.valueAsNumber||isNaN(r.valueAsNumber)?r.value:r.valueAsNumber;e[s]!=t&&(e[s]=t)}r?.matches?.('input[type="radio"]:checked')&&e[s]!=r.value&&(e[s]=r.value),r?.matches?.('input[type="checkbox"]')&&e[s]!=r.checked&&(e[s]=r.checked)}};n.addEventListener("input",a),n.addEventListener("change",a),requestIdleCallback((()=>{n.querySelectorAll(t).forEach((t=>g(e,t)))}),{timeout:100}),r?.(e,((r,a)=>{n.querySelectorAll(t).forEach((t=>g(e,t)))})),d(n,t,(t=>{t.addedNodes.forEach((t=>{requestIdleCallback((()=>{g(e,t)}),{timeout:100})}))})),n.addEventListener("u2-appear",(()=>{requestIdleCallback((()=>{n.querySelectorAll(t).forEach((t=>g(e,t)))}),{timeout:100})}))},A="DOM",x=document.createElement("style");document.querySelector("head")?.appendChild?.(x),x.dataset.owner=A;const v=(e,t)=>{const n=x.sheet;let r=Array.from(n?.cssRules||[]).findIndex((t=>t instanceof CSSStyleRule?e==t?.selectorText:0));r>-1||(r=n?.insertRule(e+" {}"));const a=x?.sheet?.cssRules[r];Object.entries(t).forEach((([e,t])=>{if(a instanceof CSSStyleRule){const n=a?.style?.getPropertyValue(e);n&&n==t||a?.style?.setProperty?.(e,t||"","")}}))},M=e=>e?.map?.((e=>v(...e))),O=async e=>{const t=await crypto.subtle.digest("SHA-256",(new TextEncoder).encode(e));return"sha256-"+btoa(String.fromCharCode.apply(null,new Uint8Array(t)))},L=async(e,t,n)=>{const r=URL.canParse(e)?e:URL.createObjectURL(new Blob([e],{type:"text/css"}));if(t?.[0]&&(!URL.canParse(e)||n)&&t?.[0]instanceof HTMLLinkElement){const r=n??O(e);"function"==typeof r?.then?r?.then?.((e=>t?.[0]?.setAttribute?.("integrity",e))):t?.[0]?.setAttribute?.("integrity",r)}t&&((e,t)=>{e[0][e[1]]="innerHTML"==e[1]?`@import url("${t}");`:t})(t,r)},k=e=>{const t=document.createElement("link");return t.rel="stylesheet",t.type="text/css",t.crossOrigin="same-origin",t.dataset.owner=A,L(e,[t,"href"]),document.head.appendChild(t),t},N=(e,t=document.head)=>{const n=t.querySelector("head")??t;n instanceof HTMLHeadElement&&k(e);const r=document.createElement("style");r.dataset.owner=A,L(e,[r,"innerHTML"]),n.appendChild(r)};export{m as $$,p as MOC,f as MOCElement,h as default,n as getOffsetParent,r as getOffsetParentChain,o as getPxValue,O as hash,y as html,S as includeSelf,k as loadBlobStyle,N as loadInlineStyle,L as loadStyleSheet,c as observeAttribute,l as observeAttributeBySelector,u as observeBorderBox,d as observeBySelector,i as observeContentBox,t as parseLength,e as parseOrigin,v as setStyleRule,M as setStyleRules,w as synchronizeInputs,g as updateInput,b as url};